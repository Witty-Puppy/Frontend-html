<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>출퇴근내역</title>
    <link rel="stylesheet" href="/css/attendance/commuteList.css">
</head>
<body>
    <div class="main">
        <th:block th:include="/layouts/sidemenu"/>
        <th:block th:include="/attendance/sidemenu2"/>

        <div class="main2">
            <span class="main-title">내 출근 내역</span>
            <div class="bar"></div>
            <div class="month-filter-area">
                <div class="monthFilter">
                    <div class="calender-title">
                        <button class="pre" onclick="changeMonth(-1)"> < </button>
                        <span class="now"></span>
                        <button class="nex" onclick="changeMonth(1)"> > </button>
                    </div>
                    <div class="count-box">
                        <div class="box">
                            <div class="vacation">
                            <span class="vacation-image"><img src="/images/AttendanceManagement/vacation.png"></span>
                            <span class="vacation-tile">휴가</span>
                            <div class="vacationCount">3</div>
                            </div>
                            <div class="outside">
                                <span class="outside-image"><img src="/images/AttendanceManagement/outside.png"></span>
                                <span class="outside-tile">외근</span>
                                <div class="outsideCount">3</div>
                            </div>
                            <div class="extension">
                                <span class="extension-image"><img src="/images/AttendanceManagement/extension.png"></span>
                                <span class="extension-tile">연장근무</span>
                                <div class="extensionCount">3</div>
                            </div>
                            <div class="business">
                                <span class="business-image"><img src="/images/AttendanceManagement/business.png"></span>
                                <span class="business-tile">출장</span>
                                <div class="businessCount">3</div>
                            </div>
                            <div class="home">
                                <span class="home-image"><img src="/images/AttendanceManagement/home.png"></span>
                                <span class="home-tile">재택근무</span>
                                <div class="homeCount">3</div>
                            </div>
                        </div>
                    </div>

                    <table>
                        <tr style="background-color: #F5F5F5;" >
                            <td>날짜</td>
                            <td>출근시간</td>
                            <td>퇴근시간</td>
                            <td>총 근로시간</td>
                            <td>출퇴근 상태</td>
                            <td>근무 상태</td>
                        </tr>
                        <tr>
                            <td>12 - 24 (목)</td>
                            <td>09 : 00 : 02</td>
                            <td>18 : 22 : 10</td>
                            <td>08h 00m</td>
                            <td>조기퇴근</td>
                            <td>연장근로</td>
                        </tr>

                    </table>

                    <!-- 페이징 -->
                    <div class="paging-po"> << < 1  2  3  4  5 > >></div>

                </div>
            </div>
        </div>
    </div>

    <!-- 팝업 창 -->
        <div id="overlay"></div>
        <div id="popup">
            <div id="close-btn" onclick="closePopup()">닫기</div>
            <div class="apply-info">
                <span class="apply-title">출퇴근 정정 신청</span>
                <span class="applicant">신청인 : 서보혜</span>
                <span class="applicantDay">날짜 : 00월 00일</span>
                <span class="applicantWork">출근 시간 : 00 : 00 : 00 </span>
                <span class="applicantHome">퇴근 시간 : 00 : 00 : 00 </span>
                <span class="reason">사유</span>
                <textarea  type="text" id="applicantReason" maxlength="99" rows="4" cols="50" oninput="countCharacters()"> </textarea>
                <div id="charCount"></div>
                <div class="approver-area">
                    <span class="approver">결재자</span>
                    <span class="approver-image"><img src=""></span> 
                    <span class="approverName">아아본부장</span>
                    <span class="approverdept">아아본부장</span>
                </div>
                <button class="apply-bnt" onclick="closePopup()" >신청 후 닫기</button>
            </div>
        </div>


        <script>
            function openPopup() {
              // 팝업 열기
                document.getElementById('popup').style.display = 'block';
            }
        
                function closePopup() {
              // 팝업 닫기
                document.getElementById('overlay').style.display = 'none';
                document.getElementById('popup').style.display = 'none';
            }

            //사유 글자 카운트
            function countCharacters() {
            var textarea = document.getElementById('applicantReason');
            var charCount = document.getElementById('charCount');
            charCount.innerText = textarea.value.length + '/100';
            }

            //월 증가 감소
            // 현재 날짜 기준으로 초기화
            let currentDate = new Date();
            let currentYear = currentDate.getFullYear();
            let currentMonth = currentDate.getMonth() + 1; // JavaScript에서 월은 0부터 시작하므로 1을 더해줍니다.
            
            function updateTitle() {
                document.querySelector('.now').textContent = currentYear + ' - ' + (currentMonth < 10 ? '0' : '') + currentMonth;
            }
        
            function changeMonth(offset) {
                currentMonth += offset;
            
                if (currentMonth > 12) {
                    currentMonth = 1;
                    currentYear++;
                } else if (currentMonth < 1) {
                    currentMonth = 12;
                    currentYear--;
                }
            
                updateTitle();
            }
        
            // 초기 실행
            updateTitle();
        

        </script>
</body>
</html>